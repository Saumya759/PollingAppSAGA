(this.webpackJsonppollingapp=this.webpackJsonppollingapp||[]).push([[0],{37:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},58:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),s=a.n(c),r=a(20),o=a.n(r),i=(a(52),a(21)),j=a(10),u=(a(53),a(18)),b=a(17),l=a(70),O=a(71),d=a(69),p=a(40),x=a(72),m=a(67),h=(a(58),a(68)),f=(a(37),function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(i.b,{to:"/login",className:"link-header",children:[" ",Object(n.jsx)(m.a,{className:"button",as:"input",type:"submit",value:"LOGIN"})," "]})})}),g=function(e){e.heading;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"template",children:Object(n.jsx)(h.a,{children:Object(n.jsxs)(d.a,{children:[Object(n.jsx)(p.a,{xs:6,children:Object(n.jsx)("b",{children:"POLLING APP"})}),Object(n.jsx)(p.a,{xs:6,children:Object(n.jsxs)(d.a,{md:4,children:[Object(n.jsx)(p.a,{children:Object(n.jsx)(f,{})}),Object(n.jsx)(p.a,{xs:6,children:Object(n.jsxs)(i.b,{to:"/signup",className:"link-header",children:[" ",Object(n.jsx)(m.a,{className:"button",as:"input",type:"submit",value:"SIGNUP"})," "]})})]})})]})})})})},S=a(73),v="LOGIN_REQ",L="LOGIN_SUCCESS",_="LOGIN_ERR",E="SIGNUP_REQ",w="SIGNUP_SUCCESS",N="SIGNUP_ERR",R="LIST_REQ",P="LIST_SUCCESS",C="LIST_ERR",I=Object(S.a)(v),T=Object(S.a)(L),y=Object(S.a)(_),k=Object(S.a)(E),U=Object(S.a)(w),G=Object(S.a)(N),A=Object(S.a)(R),D=Object(S.a)(P),B=Object(S.a)(C),F=function(){var e=Object(b.b)(),t=Object(j.g)(),a=Object(b.c)((function(e){return e.LoginReducerstatus})),s=Object(c.useState)(""),r=Object(u.a)(s,2),o=r[0],i=r[1],h=Object(c.useState)(""),f=Object(u.a)(h,2),S=f[0],v=f[1],L=Object(c.useState)(""),_=Object(u.a)(L,2),E=_[0],w=_[1];Object(c.useEffect)((function(){a.isLogin&&t.push("/polllist"),a.response?w(a.response.data):w("")}),[a]);return Object(n.jsx)(n.Fragment,{children:a.isLoading?Object(n.jsx)(l.a,{animation:"border",variant:"info",className:"Spinner"}):Object(n.jsxs)("div",{className:"Login",children:[Object(n.jsx)(g,{heading:"LOGIN"}),Object(n.jsxs)(O.a,{className:"login-form",onSubmit:function(t){t.preventDefault(),e(I({username:o,password:S}))},children:[Object(n.jsxs)(O.a.Group,{as:d.a,controlId:"formBasicEmail",children:[Object(n.jsxs)(O.a.Label,{column:!0,sm:"2",children:[" ","Username"," "]}),Object(n.jsx)(p.a,{sm:"10",children:Object(n.jsx)(O.a.Control,{className:"email",type:"text",placeholder:"Username",value:o,onChange:function(e){i(e.target.value)}})})]}),Object(n.jsx)("br",{}),E?Object(n.jsxs)(x.a,{variant:"danger",children:[" ",E," "]}):"",Object(n.jsxs)(O.a.Group,{as:d.a,controlId:"formBasicPassword",children:[Object(n.jsxs)(O.a.Label,{column:!0,sm:"2",children:[" ","Password"," "]}),Object(n.jsx)(p.a,{sm:"10",children:Object(n.jsx)(O.a.Control,{className:"email",type:"password",placeholder:"Password",value:S,onChange:function(e){v(e.target.value)}})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(m.a,{variant:"primary",type:"submit",children:[" ","LOGIN"," "]})]})]})})},H=(a(61),function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.SignupReducerstatus})),a=Object(c.useState)(""),s=Object(u.a)(a,2),r=s[0],o=s[1],i=Object(c.useState)(""),j=Object(u.a)(i,2),h=j[0],f=j[1],S=Object(c.useState)(""),v=Object(u.a)(S,2),L=v[0],_=v[1],E=Object(c.useState)(""),w=Object(u.a)(E,2),N=w[0],R=w[1],P=Object(c.useState)(""),C=Object(u.a)(P,2),I=C[0],T=C[1];Object(c.useEffect)((function(){t.response?t.response.message?(R(t.response.message),T("")):t.response.data&&(T("Signup Success."),R(""),f(""),_(""),o("")):(T(""),R(""))}),[t]);return Object(n.jsx)(n.Fragment,{children:t.isLoading?Object(n.jsx)(l.a,{animation:"border",variant:"info",className:"Spinner"}):Object(n.jsxs)("div",{className:"Signup",children:[Object(n.jsx)(g,{heading:"SIGNUP"}),Object(n.jsxs)(O.a,{className:"signup-form",onSubmit:function(t){t.preventDefault(),e(k({username:h,password:L,role:r}))},children:[I?Object(n.jsxs)(x.a,{variant:"success",children:[" ",I," "]}):"",Object(n.jsxs)(O.a.Group,{as:d.a,controlId:"formBasicEmail",children:[Object(n.jsxs)(O.a.Label,{column:!0,sm:"2",children:["Email address"," "]}),Object(n.jsxs)(p.a,{sm:"10",children:[Object(n.jsx)(O.a.Control,{className:"email",type:"text",placeholder:"User Name",value:h,onChange:function(e){f(e.target.value)}})," "]})]}),Object(n.jsx)("br",{}),N?Object(n.jsxs)(x.a,{variant:"danger",children:[" ",N," "]}):"",Object(n.jsxs)(O.a.Group,{as:d.a,controlId:"formBasicPassword",children:[Object(n.jsx)(O.a.Label,{column:!0,sm:"2",children:"Password"}),Object(n.jsx)(p.a,{sm:"10",children:Object(n.jsx)(O.a.Control,{className:"email",type:"password",placeholder:"Password",value:L,onChange:function(e){_(e.target.value)}})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(O.a.Group,{as:d.a,controlId:"exampleForm.ControlSelect1",children:[Object(n.jsxs)(O.a.Label,{column:!0,sm:"2",children:[" ","Select Role"," "]}),Object(n.jsx)(p.a,{sm:"10",children:Object(n.jsxs)(O.a.Control,{as:"select",value:r,onChange:function(e){o(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:" Select Role "}),Object(n.jsx)("option",{value:"admin",children:" Admin "}),Object(n.jsx)("option",{value:"guest",children:" Guest "})]})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(m.a,{variant:"primary",type:"submit",children:[" ","SIGNUP"," "]})]})]})})}),K=(a(62),function(e){var t=e.poll;return Object(n.jsxs)("div",{className:"Poll",children:[t.title,t.options.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{type:"radio",name:"option"})," ",e.option]},Math.random())}))]})}),W=function(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.ListReducerstatus}));return console.log(t),Object(c.useEffect)((function(){e(A())}),[]),Object(n.jsxs)("div",{className:"Home",children:[Object(n.jsx)(g,{heading:"POLLING APP"}),t.isLoading?Object(n.jsx)(l.a,{animation:"border",variant:"info",className:"Spinner"}):t.response?t.response.map((function(e){return Object(n.jsx)(K,{poll:e},e._id)})):"bh"]})},Q=function(){return Object(n.jsx)(i.a,{children:Object(n.jsxs)(j.d,{children:[Object(n.jsxs)(j.b,{exact:!0,path:"/",children:[" ",localStorage.getItem("token")?Object(n.jsx)(W,{}):Object(n.jsx)(j.a,{to:"/login"})," "]}),Object(n.jsx)(j.b,{path:"/login",exact:!0,component:F}),Object(n.jsx)(j.b,{path:"/signup",exact:!0,component:H}),Object(n.jsx)(j.b,{path:"/polllist",exact:!0,component:W})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(19),J=a(45),M=a(9),$={isLoading:!1,isLogin:!1};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(M.a)(Object(M.a)({},e),{},{isLoading:!0,isLogin:!1});case L:return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,isLogin:!0,response:t.payload});case _:return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,isLogin:!1,response:t.payload});default:return e}},z={isSignup:!1,isLoading:!1,isError:!1},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(M.a)(Object(M.a)({},e),{},{isSignup:!1,isLoading:!0,isError:!1});case w:return Object(M.a)(Object(M.a)({},e),{},{isSignup:!0,isLoading:!1,response:t.payload});case N:return Object(M.a)(Object(M.a)({},e),{},{isSignup:!1,isLoading:!1,isError:!0,response:t.payload});default:return Object(M.a)({},e)}},Y={isLoading:!1};var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(M.a)(Object(M.a)({},e),{},{isLoading:!0});case P:case C:return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,response:t.payload});default:return e}},ee=Object(V.c)({LoginReducerstatus:q,SignupReducerstatus:X,ListReducerstatus:Z}),te=a(11),ae=a.n(te),ne=a(12),ce=ae.a.mark(re),se=ae.a.mark(oe);function re(e){var t,a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"login?username=").concat(e.payload.username,"&password=").concat(e.payload.password));case 2:return t=n.sent,n.next=5,t.json();case 5:if(!(a=n.sent).error){n.next=11;break}return n.next=9,Object(ne.c)(y(a));case 9:n.next=13;break;case 11:return n.next=13,Object(ne.c)(T(a));case 13:localStorage.setItem("token",a.token);case 14:case"end":return n.stop()}}),ce)}function oe(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(v,re);case 2:case"end":return e.stop()}}),se)}var ie=oe,je=ae.a.mark(be),ue=ae.a.mark(le);function be(e){var t,a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"add_user?username=").concat(e.payload.username,"&password=").concat(e.payload.password,"&role=").concat(e.payload.role));case 2:return t=n.sent,n.next=5,t.json();case 5:if(!(a=n.sent).error){n.next=11;break}return n.next=9,Object(ne.c)(G(a));case 9:n.next=13;break;case 11:return n.next=13,Object(ne.c)(U(a));case 13:case"end":return n.stop()}}),je)}function le(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(E,be);case 2:case"end":return e.stop()}}),ue)}var Oe=le,de=ae.a.mark(xe),pe=ae.a.mark(me);function xe(){var e,t;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,"list_polls"));case 3:return e=a.sent,a.next=6,e.json();case 6:if(!(t=a.sent).error){a.next=12;break}return a.next=10,Object(ne.c)(B(t.message));case 10:a.next=14;break;case 12:return a.next=14,Object(ne.c)(D(t.data));case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(0),a.next=20,Object(ne.c)(B("Error"));case 20:case"end":return a.stop()}}),de,null,[[0,16]])}function me(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(R,xe);case 2:case"end":return e.stop()}}),pe)}var he=me,fe=ae.a.mark(ge);function ge(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.a)([Object(ne.b)(ie),Object(ne.b)(Oe),Object(ne.b)(he)]);case 2:case"end":return e.stop()}}),fe)}var Se=ge,ve=Object(J.a)(),Le=Object(V.e)(ee,Object(V.a)(ve));ve.run(Se);var _e=Le;o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(b.a,{store:_e,children:Object(n.jsx)(Q,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.53462eb7.chunk.js.map